<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Index - guild</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="css/index.css" />
</head>

<body>
    <div id="wrapper">
        <nav> <!-- Nav Bar -->
            <ul>
                <li><div class="logo"></div> Home</li>
                <a href="#aboutUs"><li><div class="logo"></div>Über uns</li></a>
                <a href="#progress"><li><div class="logo"></div>Progress</li></a>
                <a href="#rankings"><li><div class="logo"></div>Rankings</li></a>
                <a href="#contact"><li><div class="logo"></div>Kontakt</li></a>
            </ul>
        </nav>
    <section id="header"><!-- Grid im Header -->
        <div id="banner"></div>
        <div id="guildname1">Order</div>
        <div id="guildname2">and</div>
        <div id="guildname3">Chaos</div>
    </section>

    <section id="aboutUs">
    <div class="space">.</div>
        <h1>Das sind wir</h1>
        <p>
            Wir sind "Order and Chaos" vom Server Anetheron. <br>
            Wie unschwer zu erkennen, sind wir eine waschechte Hordegilde. <br>
            <br>
            Neben einem familiären Gildenklima und dem Zusammenhang unter den Membern. <br>
            Dazu nutzen wir unseren Gildendiscord auf dem Wir uns Abends gern die Zeit <br>
            vertreiben. <br>
            <br>
            Jetzt fragt ihr euch? Geselligkeit schön und gut, aber womit vertreiben sich <br>
            die Leute in Game die Zeit? <br>
            Die Antwort ist relativ schnell und einfach: Mit Allem was Spaß macht ;) <br>
            Dazu gehört zu allererst, dass wir den aktuellen HC Raid Content vor Öffnung <br>
            der nächsten Instanz und somit "in Time". <br>
            Aber auch Mythisch+ Instanzen, Questen und Erfolge. ;) <br> <br>
            
        </p>    

    <div id="accordion">
  
        <button class="accordion">Merlicat - Anetheron</button>
        <div class="panel">
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
            <br><br><a href="">Hier</a> geht es zum Battle.net.</p>
        </div>
        <button class="accordion">Knusperkeks - Anetheron</button>
        <div class="panel">
            <p>Ein Teil unseres "Gute Seele der Gilde"-Kompetenzteams. Knusper </p>
        </div>
        <button class="accordion">Kreischi - Nathrezim</button>
        <div class="panel">
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
        </div>
        <button class="accordion"> Subbì - Anetheron</button>
        <div class="panel">
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
        </div>
        <button class="accordion">Hauie - Anetheron </button>
        <div class="panel">
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
        </div>
        <button class="accordion">Tack - Anetheron </button>
        <div class="panel">
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
        </div>
        <button class="accordion"> Fluxzi - Anetheron </button>
        <div class="panel">
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
        </div>

    </div>

    </section>

    <section id="progress">
    <div class="space">.</div>
        <h1>Progress</h1>
    
        <div id="accordionProgress">
  
        <button class="accordionProgress">Smaragdbrüner Alptraum</button>
        <div class="panelProgress" id="nightmare">
            <p>Der erste Raid der Expansion hat uns nicht so lang aufgehalten. Als Einstiegsraid durchaus angenehm. <br>
               Die einzigen beiden harten Brocken waren Cenarius und Xavius im hc. Aber auch die konnten  </p>
               <div id="bosses">Bosse :7</div><div id="normal"></div><br>
               <div id="bosses">Bosse: 7</div><div id="heroic"></div>
 
        </div>

        <button class="accordionProgress">Prüfung der Tapferkeit</button>
        <div class="panelProgress" id="trials">
            <p>Konnte nur als "Zwischenraid" bzw. "Übergangsraid" angesehen werden. Die Bosse stellten uns sowohl im normalen als auch <br>
                heroischen Content vor keine unüberwindbaren Herausforderungen. Einzig Helya war zwischendurch ein wenig zickig und wollte sich nicht legen lassen.
        </p>
            <div id="bosses">Bosse :3</div><div id="normal"></div><br>
            <div id="bosses">Bosse: 3</div><div id="heroic"></div>
        </div>

        <button class="accordionProgress">Nachtfestung</button>
        <div class="panelProgress" id="nighthold">
            <p>Nach schier endlosen Stunden des Questens und Ruffarmens in einem der schönsten Gebiete der Expansion, konnten wir uns endlich der Nachtfestung widmen. <br>
            Neben Kuchenessen bei Trillax (bei dem einige Gildenmember instant auf Teilzeitdiät umschalteten wurden) oder dem Brückentanz bei Krosus oder Sternegucken bei Etraeus, hatte die Instanz einiges zu bieten. Nach einigen Schwierigkeiten, wurde die Instanz auch geklärt und Guld verhauen. 
            </p>
            <div id="bosses">Bosse :7</div><div id="normal"></div><br>
            <div id="bosses">Bosse: 7</div><div id="heroic"></div>
        </div>

        <button class="accordionProgress"> Grabmal von Sageras</button>
        <div class="panelProgress" id="tomb">
            <p>Jetzt wo Gul'dan aufgehalten und Illidan befreit wurde, fokusierten wir uns auf die Zentrale der Legion auf Azeroth. Es ging ins Grabmal. Auch hier hatten wir ein paar Bosse die uns etwas aufgehalten haben. <br>
                So entdeckten einige von uns bei der Maid ihre Farbenblindheit und bei Harjatan und Herrin Sassz'ine ihre Liebe zu Morlucs und Fischgetier. Als letzte große Herausforderung (besonders im HC) sollte sich Kil'jaeden erweisen. <br>
                Allerdings musste er uns am Ende aber auch klein beigeben.
        </p>
            <div id="bosses">Bosse :7</div><div id="normal"></div><br>
            <div id="bosses">Bosse: 7</div><div id="heroic"></div>
        </div>
        <button class="accordionProgress">Antorus, der brennende Thron</button>
        <div class="panelProgress" id="antorus">
            <p>Im letzten Raid widmeten wir uns auf Argus dem guten Sageras selbst. Eigentlich lief die Instanz ziemlich gut für uns. Bis auf kleinere Problme bei Kin'garoth, der mit seinem Laserstrahl so gern fangen spielte, dem Zirkel der Shivarra und <br>
                Agrammar, der uns mit seinen Adds und seiner Spezialtechnik zusetzte,stellte uns nur Argus vor eine Herausforderung. Am Ende wurde aber auch dieser überwunden, Azeroth gerettet und das Schwert "bewundert" .
        </p>
            <div id="bosses">Bosse :7</div><div id="normal"></div><br>
            <div id="bosses">Bosse: 7</div><div id="heroic"></div>
        </div>
    
    </section>

    <section id="rankings">
    <div class="space">.</div>        
    <h1>Rankings</h1>

        <p> Die aktuellen Mythic+ Affixe der Woche sind:</p>
        <div id="affixes">
            <div class="affix" id="affixOne"></div><div class="affix" id="affixTwo"></div><div class="affix" id="affixThree"></div>
        </div>

        <div id="memberlist">


        </div>
        </section>

    <script>
        affixe();
        progression();

    function progression(){
    /* Arrays für die entsprechenden Raids */
        var data = [];
        var blizzRequest = new XMLHttpRequest();

        blizzRequest.open('GET', 'https://raider.io/api/v1/guilds/profile?region=eu&realm=Anetheron&name=Order%20and%20Chaos&fields=raid_progression')
        blizzRequest.onload=function(){
            var test = JSON.parse(blizzRequest.responseText);

            for(var i=0; i<=4; i++){

                switch (i){
                    case 0:
                    var raid = "antorus-the-burning-throne";
                    break;
                    case 1:
                    var raid = "the-emerald-nightmare";
                    break;
                    case 2:
                    var raid = "the-nighthold";
                    break;
                    case 3:
                    var raid = "tomb-of-sargeras";
                    break;
                    case 4:
                    var raid = "trial-of-valor";
                    break;
                } 
    
            data.push(test.raid_progression[raid].total_bosses);
            data.push(test.raid_progression[raid].normal_bosses_killed);
            data.push(test.raid_progression[raid].heroic_bosses_killed);
//            data.push(test.raid_progression[raid].mythic_bosses_killed);    <- vllt in Zukunft ;)
            document.getElementById("")
            }
            console.log(data)
        }
        blizzRequest.send();
    }

    /* 
        Für jede Instanz eine array erstellen und die einzelnen Attribute nacheinander appenden!
        dann am ende 4 Arrays und in HTML einbinden
    
    */

    function guildMembers(){                	/*Erstellen der Memberliste für weitere Funktionen */
        var guildRequest = new XMLHttpRequest();
        var members = [];
        var server = [];
        var rank = [];
        guildRequest.open('GET', 'https://eu.api.battle.net/wow/guild/Anetheron/Order%20and%20Chaos?fields=members&locale=en_GB&apikey=2z8d96ypab8zbed7nrbz29a3uqxskz5u')
        guildRequest.onload=function(){
            var test = JSON.parse(guildRequest.responseText);
            console.log(test);
            var member = test.name;

            for (i=0; i<test.members.lenght; i++){
                var member = test.members[i].character.rank;
                console.log(member);
            }
        }  
        guildRequest.send();
    }

    function array(){       	               /* Aufbau der Memberliste der Gilde */
        var chars = ["Kreischi", "Hauie", "Hexenseele", "Subbì"];
        var server = ["Nathrezim", "Anetheron", "Thrall", "Anetheron"];
            
        for (i=0; i<chars.length; i++){
            var name = chars[i];
            var realm = server[i];
            getScore(name, realm);
        };
    }

    function getScore(name, realm,i){           /* M+ Scores der Member */
        var char = name;
        var realm = realm;
        var blizzRequest = new XMLHttpRequest();

        blizzRequest.open('GET', 'https://raider.io/api/v1/characters/profile?region=EU&realm='+realm+'&name='+char+'&fields=mythic_plus_scores%2C%20mythic_plus_best_runs%2C%20mythic_plus_recent_runs')
        blizzRequest.onload=function(){
            var score = JSON.parse(blizzRequest.responseText);
            var current = score.mythic_plus_scores.all;
            console.log(score);
            console.log(current);
        }  
        blizzRequest.send();
    }


    function affixe(){                          /* Affixe der aktuellen Woche */
    var blizzRequest = new XMLHttpRequest();
    var affixes = [];
    var descriptions = [];
        blizzRequest.open('GET', 'https://raider.io/api/v1/mythic-plus/affixes?region=EU&locale=de')
        blizzRequest.onload=function(){
            var test = JSON.parse(blizzRequest.responseText);
            console.log(test);
            for(i=0; i<test.affix_details.length; i++){
                var affix = test.affix_details[i].name;
                var detail = test.affix_details[i].description;

                affixes.push(affix);
                descriptions.push(detail);

            }
            document.getElementById("affixOne").innerHTML=affixes[0];
            document.getElementById("affixTwo").innerHTML=affixes[1];
            document.getElementById("affixThree").innerHTML=affixes[2];
        }  
    blizzRequest.send();
    }

    // Menu Script -> Ansprechpartner
    var acc = document.getElementsByClassName("accordion");
    var i;
    for (i = 0; i < acc.length; i++) {
        acc[i].addEventListener("click", function() {
        
        this.classList.toggle("active");
        var panel = this.nextElementSibling;
        if (panel.style.maxHeight){
            panel.style.maxHeight = null;
        } else {
            panel.style.maxHeight = panel.scrollHeight + "px";
        } 
        });
    }

    // Menu Script -> Progress
    var acc = document.getElementsByClassName("accordionProgress");
    var i;
    for (i = 0; i < acc.length; i++) {
        acc[i].addEventListener("click", function() {
        
        this.classList.toggle("active");
        var panel = this.nextElementSibling;
        if (panel.style.maxHeight){
            panel.style.maxHeight = null;
        } else {
            panel.style.maxHeight = panel.scrollHeight + "px";
        } 
        });
    }

    </script>
    



    <section id="contact">
           <div class="space">.</div>
        <h1>Du hast Interesse?</h1>
        <div id="container">
            <input type="text" name="name" value="Name *"> </input>
            <input type="text" name="email" value="E-Mail *"> </input><br><br><br>
            <textarea rows="4" cols="55">Gib hier bitte deine Nachricht ein... *</textarea>
            <div class="button">Abschicken</div>
        </div>
    </section>

    <div id="footer">
        <ul>
            <a href="http://eu.battle.net/wow/de/guild/anetheron/Order_and_Chaos/" target:"_blank"><li><div class="logo"></div> Battle Net</li></a>
            <li><div class="logo"></div>Gildeninfos</li>
            <li><div class="logo"></div>Sonstiges</li>
        </ul>
    </div> 

    </div> <!-- Ende Wrapper -->

</body>
</html>
